<!-- Search Products -->
<div class="row searchbar">
    <div class="col">
        <p-button class="nav-link ms-auto filter_btn" (click)="toggleFilter()" icon="pi pi-filter-fill" [raised]="true"
            icon="pi pi-filter-fill" [raised]="true" severity="danger"></p-button>
    </div>
    <div class="col">
        <form class="form-inline">
            <input class="form-control" type="search" placeholder="🔍︎ Search products.." aria-label="Search"
                [(ngModel)]="searchTerm" [ngModelOptions]="{standalone:true}" (ngModelChange)="searchPoducts()">
        </form>
    </div>
</div>
<br><br>

<div class="container-fluid">
    <div class="row">

        <!-- Filter Products -->
        <div class="col-xs-6 col-md-4 filter-section" [ngClass]="{'show-filter': filterSection}">
            FILTER PRODUCTS
            <div class="card filter_card">
                <button (click)="clearAllFilters()">Clear All Filters</button>
                <div class="row">
                    <div class="col-md-6">
                        <h6>Colour</h6>
                        <div class="field-checkbox">
                            <p-checkbox #filterCheckbox *ngFor="let cb of filterColorCheckboxes" value="{{cb.value}}"
                                label="{{cb.value | titlecase}}"
                                (onChange)="checkBoxFilter(cb.category, cb.value, $event)">
                            </p-checkbox>
                        </div>

                        <h6>Gender</h6>
                        <p-checkbox *ngFor="let cb of filterGenderCheckboxes" value="{{cb.value}}"
                            label="{{cb.value | titlecase}}" (onChange)="checkBoxFilter(cb.category, cb.value, $event)">
                        </p-checkbox>
                    </div> <br>
                    <div class="col-md-6">
                        <h6>Type</h6>
                        <p-checkbox *ngFor="let cb of filterTypeCheckboxes" value="{{cb.value}}"
                            label="{{cb.value | titlecase}}" (onChange)="checkBoxFilter(cb.category, cb.value, $event)">
                        </p-checkbox>

                        <h6>Price</h6>
                        <p-checkbox *ngFor="let cb of filterPriceCheckboxes" value="{{cb.value}}" label="{{cb.value}}"
                            (onChange)="checkBoxFilter(cb.category, cb.value, $event)">
                        </p-checkbox>
                    </div>

                </div> <br>
                <button type="button" class="btn btn-info" (click)="applyFilters()">Apply Filters</button>
            </div>
        </div>

        <!-- Products List -->
        <div class="col-xs-12 col-md-8">
            <div class="row">
                <div class="col-sm-4" *ngFor="let prod of filteredProductList;" style="margin-bottom: 20px;">
                    <div class="card">
                        <div class="card-header">
                            <h6> {{prod.name}} </h6>
                        </div>
                        <div class="card-body">
                            <img class="card-img"
                                src="https://wgmimedia.com/wp-content/uploads/2023/06/tshirt-design-prompts-1024x683.jpg"
                                alt="Tshirt">

                        </div>
                        <div class="card-footer text-muted">
                            <span class="card-text"> <b> Rs. {{prod.price}} </b> </span>
                            <a (click)="addToCart(prod)" class="btn btn-warning">Add to cart</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<p-toast></p-toast>