<!-- Search Products -->
<div class="row searchbar">
    <div class="col">
        <p-button class="nav-link ms-auto filter_btn" (click)="toggleFilter()" icon="pi pi-filter-fill" [raised]="true"
            icon="pi pi-filter-fill" [raised]="true" severity="danger"></p-button>
    </div>
    <div class="col">
        <form class="form-inline">
            <input class="form-control" type="search" placeholder="🔍︎ Search products.." aria-label="Search"
                [(ngModel)]="searchTerm" [ngModelOptions]="{standalone:true}" (ngModelChange)="searchPoducts()">
        </form>
    </div>
</div>
<br><br>

<div class="container-fluid">
    <div class="row">

        <!-- Filter Products -->
        <div class="col-xs-6 col-md-3 filter-section" [ngClass]="{'show-filter': filterSection}">
            <div class="card filter_card">
                <div class="row">
                    <div class="col-md-6">

                        <h6 class="filter_title">Colour</h6>
                        <div *ngFor="let cb of filterColorCheckboxes">
                            <input #filterCheckbox type="checkbox"
                                (change)="checkBoxFilter(cb.category, cb.value, $event)"> <span
                                class="checkbox-label">{{cb.value | titlecase}}</span>
                        </div>

                        <h6 class="filter_title">Gender</h6>
                        <div *ngFor="let cb of filterGenderCheckboxes">
                            <input #filterCheckbox type="checkbox"
                                (change)="checkBoxFilter(cb.category, cb.value, $event)"> <span
                                class="checkbox-label">{{cb.value | titlecase}}</span>
                        </div>

                    </div> <br>
                    <div class="col-md-6">
                        <h6 class="filter_title">Type</h6>
                        <div *ngFor="let cb of filterTypeCheckboxes">
                            <input #filterCheckbox type="checkbox"
                                (change)="checkBoxFilter(cb.category, cb.value, $event)"> <span
                                class="checkbox-label">{{cb.value | titlecase}}</span>
                        </div>

                        <h6 class="filter_title">Price</h6>
                        <div *ngFor="let cb of filterPriceCheckboxes">
                            <input #filterCheckbox type="checkbox"
                                (change)="checkBoxFilter(cb.category, cb.value, $event)"> <span
                                class="checkbox-label">{{cb.value | titlecase}}</span>
                        </div>
                    </div>

                </div> <br>
                <button type="button" class="clear_btn" (click)="clearAllFilters()">Clear All Filters</button>
            </div>
        </div>

        <!-- Products List -->
        <div class="col-xs-12 col-md-9">
            <div class="row">
                <div class="col-sm-3" *ngFor="let prod of filteredProductList;" style="margin-bottom: 10px;">
                    <div class="card">
                        <div class="card-header">
                            <h6> {{prod.name}} </h6>
                        </div>
                        <div class="card-body">
                            <img class="card-img"
                                src="https://wgmimedia.com/wp-content/uploads/2023/06/tshirt-design-prompts-1024x683.jpg"
                                alt="Tshirt">

                        </div>
                        <div class="card-footer">
                            <span class="card-text"> <b> Rs. {{prod.price}} </b> </span>
                            <button type="button" class="cart_btn" (click)="addToCart(prod)">Add to cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<p-toast></p-toast>